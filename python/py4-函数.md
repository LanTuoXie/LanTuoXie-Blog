# 函数

- 函数代码块以 def 关键词开头，后接函数标识符名称和圆括号()。
- 任何传入参数和自变量必须放在圆括号中间，圆括号之间可以用于定义参数。
- 函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。
- 函数内容以冒号起始，并且缩进。
- return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。

语法：

```bash
def 函数名（参数列表）:
    函数体
```

## 值传递区分 不可变类型 和 可变类型

值传递： 不可变类型 `stirng` `number` `tuple`
引用传递： 可变类型 `Dictionary` `Set` `List`

## 参数

- 必需参数： 函数必传的参数。
- 关键字参数： 使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。
- 默认参数： 不传也有其自己的默认值。
- 不定长参数： 你可能需要一个函数能处理比当初声明时更多的参数。

不定长参数的demo：

```bash
# 一个* 传入的参数会以元组的方式接收
def functionname([formal_args,] *var_args_tuple ):
   "函数_文档字符串"
   function_suite
   return [expression]

# 两个** 传入的参数会以字典的方式接收
def functionname([formal_args,] **var_args_dict ):
   "函数_文档字符串"
   function_suite
   return [expression]

```

## 匿名函数 lambda

匿名： 意即不再使用 def 语句这样标准的形式定义一个函数。

- `lambda` 只是一个表达式，函数体比 `def` 简单很多。
- `lambda` 的主体是一个表达式，而不是一个代码块。仅仅能在 `lambda表达式` 中封装有限的逻辑进去。
- `lambda` 函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。
- 虽然 `lambda` 函数看起来只能写一行，却不等同于C或C++的内联函数，后者的目的是调用小函数时不占用栈内存从而增加运行效率。

```bash
lambda [arg1 [,arg2,.....argn]]:expression
```

## 强制位置参数

Python3.8 新增了一个函数形参语法 `/` 用来指明函数形参必须使用指定位置参数，不能使用关键字参数的形式。

```bash
# '/' 左边不能使用关键字参数
# '*' 右边必须使用关键字参数
def f(a, b, /, c, d, *, e, f):
    print(a, b, c, d, e, f)
```

以下使用方法会发生错误:

```bash
f(10, b=20, c=30, d=40, e=50, f=60)   # b 不能使用关键字参数的形式
f(10, 20, 30, 40, 50, f=60)           # e 必须使用关键字参数的形式
```