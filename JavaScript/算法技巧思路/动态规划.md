# 算法-动态规划(Dynamic Programming)

动态规划算法的基本思想与分治法类似，也是将待求解的问题分解为若干个子问题（阶段），按顺序求解子阶段，前一子问题的解，为后一子问题的求解提供了有用的信息。在求解任一子问题时，列出各种可能的局部解，通过决策保留那些有可能达到最优的局部解，丢弃其他局部解。依次解决各子问题，最后一个子问题就是初始问题的解。通俗的说，就是通过记住已经求出的解并在这些解的基础之上求解下一步。

## 动态规划原理（Computed + Memory 推导状态机的状态转移方程）

动态规划问题的一般形式就是【求最值】。求解动态规划的核心问题是【穷举】。但是这类问题存在重叠子问题，如果暴力穷举的话效率会极其低下，所以需要【备忘录】或者【DP Table】来优化穷举过程，避免不必要的计算。动态规划问题一定会具备【最优子结构】，才能通过子问题的最值得到原问题的最值。动态规划需要列出正确的【状态转移方程】才能正确地穷举。

## 分析过程

- 状态定义：先穷举出所有状态，然后根据不同条件分支推导转移方程。
- 转移方程：往往涉及递归的方程式【最重要的是找出这个方程式】【不同的条件分支对应不同的状态方程式】
- 初始状态：和元素个数相关，0个元素、1个元素、2个元素、3个元素、下一个元素结果有什么变化？
- 返回值：(累积)最值

## 核心推导公式

从左到右计算，把左边计算结果缓存起来，用于下一个元素的分析。初始状态一般在前面1、2、3的元素。

## 特点

- 求(累积)最值
- 优化穷举
- 最优子结构
- 备忘录 和 DP Table
- 状态转移方程
- 运算出的值可能很大，需要取模求余或者dp table缓存计算结果
- 下一次要分析的子问题，可能需要上次子问题运算的结果
- 对初始值和上一次计算的值依赖性以较大。

根据上面的分析可知。从全局看，动态规划可以先穷举出所有状态，然后根据不同的条件分支来划分状态转移方程，并求出问题的最值。其难点在于如何定义状态转移方程。定义状态转移方程需要根据题目给出的条件，初始值，运算推导(可能涉及到数列)，缓存上一个子问题的答案(computed、dp table)。

状态转移方程需要推导，需要分析初始状态，特殊状态，以及缓存计算结果（运算量比较大）。重点分析当前状态和上次状态，以及下次状态。

最突出的特点是：【**下一次需要分析的子问题或者当前需要分析的问题，需要上次子问题的运算结果**】

**动态规划的用途**就是：**分析状态机，以及推导状态机的状态转移方程式**。分析要点：【当前状态】、【上次状态】、【下次状态】、【分支条件】、【初始状态】。优化要点：【备忘录】、【DP Table】

## 引用

- [经典算法思想1——动态规划( Dynamic Programming)](https://zhuanlan.zhihu.com/p/72734380)
- [动态规划思路](https://labuladong.gitbook.io/algo/di-ling-zhang-bi-du-xi-lie/dong-tai-gui-hua-xiang-jie-jin-jie)
