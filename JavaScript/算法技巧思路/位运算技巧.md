# 位运算技巧

进行位运算的时候，每一位都是一一对应运算。比如`|8|` 对应 `|8|`。`|4|` 对应 `|4|`

## 位运算概览

| 符号 | 描述 | 运算规则                                                     |
| :--- | ---- | ------------------------------------------------------------ |
| &    | 与   | 两个位都为1时，结果才位1                                     |
| \|   | 或   | 两个位都为0时，结果才位0                                     |
| ^    | 异或 | 两个位相同为0，相异为1                                       |
| ~    | 取反 | 0变1, 1变0                                                   |
| <<   | 左移 | 各二进位全部左移若干位，高位丢弃，低位补0                    |
| >>   | 右移 | 各二进位全部右移若干位，对无符号数，高位补0，右符号数，各编译器处理方法不一样，有的补符号位，有的补0 |

## 按位与运算 &

```bash
0&0=0 0&1=0 1&0=0 1&1=1
```

- 清零：如果想将一个单元清零，即使其全部二进制位为0，只要与一个各位都为0的数值相与，结果为0
- 取一个数的指定位： `(X = 1010 1110)` 取其低4位，只需要找一个数`(Y = 0000 1111)` 然后 `(X & Y = 0000 1110)`
- 判断奇偶：`a & 1` 或者 `a % 2`

## 按位或运算 |

`0|0=0 0|1=1 1|0=1 1|1=1`

- 常用来对一个数据的某些位设置1

## 异或运算符 ^

```bash
0^0=0 0^1=1 1^0=1 1^1=0
```

- 交换律
- 结合律 `(a ^ b) ^ c = a ^ (b ^ c)`
- 对于任何数x，都有 `x ^ x = 0，x ^ 0 = x`
- 自反性：`a ^ b ^ b = a ^ 0 = a`

用途：

- 翻转指定位
- 与0相异或值不变
- 交换两个数

